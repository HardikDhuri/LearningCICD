name: Build, test and deploy ASP.Net Core app to Azure Web App - myowncicdpipelineapp

on:
  push:
    branches:
      - main

jobs:
#    build:
#        runs-on: windows-latest
#        steps:
#          - name: Checkout code 🛎️
#            uses: actions/checkout@v2
#        
#          - name: Set up .NET Core ⚒️
#            uses: actions/setup-dotnet@v1
#            with:
#              dotnet-version: '7.0.x'
#              
#          - name: Restore dependencies 🚧
#            run: dotnet restore ./src
#          
#          - name: Build app 🚀
#            run: dotnet build ./src/SimpleApp.sln --no-restore -c Release


    test:
#      needs: build
      runs-on: windows-latest
      steps:
        - name: Test app 🧪
          run: |
            pwd && cd src
          
#    deploy:
#        needs: test
#        runs-on: windows-latest